(this["webpackJsonpreact_redux-list-of-posts"]=this["webpackJsonpreact_redux-list-of-posts"]||[]).push([[0],{24:function(e,t,n){e.exports=n(42)},33:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(10),s=n.n(r),o=n(4),u=n(23),i=(n(33),n(13)),l=n(2),m=n(7),p=n(21),d=n(22),f=function(e){return e.posts},E=function(e){return e.isLoading},b=function(e){return e.isLoaded},O={posts:[],allPosts:[],isLoading:!1,isLoaded:!1},_=Object(m.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_FULL_POSTS":return Object(l.a)(Object(l.a)({},e),{},{posts:t.posts,allPosts:t.posts});case"LOADING_TOGGLE":return Object(l.a)(Object(l.a)({},e),{},{isLoading:!e.isLoading});case"IS_LOADED":return Object(l.a)(Object(l.a)({},e),{},{isLoaded:!0});case"FILTER":return Object(l.a)(Object(l.a)({},e),{},{posts:Object(i.a)(e.allPosts).filter((function(e){return e.body.includes(t.inputValue)||e.title.includes(t.inputValue)}))});case"REMOVE_POST":return Object(l.a)(Object(l.a)({},e),{},{posts:Object(i.a)(e.posts).filter((function(e){return e.id!==t.postId}))});case"REMOVE_COMMENT":var n=e.posts.find((function(e){return e.id===t.postId}));return n.comments=n.comments.filter((function(e){return e.id!==t.commentId})),Object(l.a)(Object(l.a)({},e),{},{posts:[].concat(Object(i.a)(e.posts),[n])});default:return e}}),Object(p.composeWithDevTools)(Object(m.applyMiddleware)(d.a))),j=n(8),y=n.n(j),v=n(12),h=function(){var e=Object(v.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(t).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=(n(35),function(e){var t=e.address;return c.a.createElement("div",{className:"user__address"},c.a.createElement("span",null,t.street),"\xa0",c.a.createElement("span",null,t.suite),"\xa0",c.a.createElement("span",null,t.city),"\xa0",c.a.createElement("span",null,t.zipcode),"\xa0",c.a.createElement("span",null,t.geo.lat,"\xa0",t.geo.lng))}),L=(n(36),function(e){var t=e.userData;return c.a.createElement(c.a.Fragment,null,c.a.createElement("h4",{className:"user__username"},t.username),c.a.createElement("p",{className:"user__name"},t.name),c.a.createElement(N,{address:t.address}))}),I=(n(37),function(e){var t=e.comment,n=e.postId,a=Object(o.b)();return c.a.createElement(c.a.Fragment,null,c.a.createElement("h4",{className:"comment__name"},t.name),c.a.createElement("a",{className:"comment__link",href:t.email},t.email),c.a.createElement("p",{className:"comment__text"},t.body),c.a.createElement("button",{onClick:function(){return a(function(e,t){return{type:"REMOVE_COMMENT",commentId:t,postId:e}}(n,t.id))},className:"comment-btn"},"remove comment"))}),g=(n(38),function(e){var t=e.comments,n=e.postId;return c.a.createElement("ul",{className:"comments-list"},t.map((function(e){return c.a.createElement("li",{key:e.id,className:"comment-list__item comment"},c.a.createElement(I,{comment:e,postId:n}))})))}),T=(n(39),function(e){var t=e.post,n=Object(o.b)();return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"post"},c.a.createElement("div",{className:"post__user user"},c.a.createElement(L,{userData:t.user})),c.a.createElement("div",{className:"post__info"},c.a.createElement("h3",{className:"post__title"},t.title),c.a.createElement("p",{className:"post__text"},t.body)),c.a.createElement("button",{onClick:function(){return n({type:"REMOVE_POST",postId:t.id})},className:"post-btn"},"remove post")),c.a.createElement(g,{comments:t.comments,postId:t.id}))}),S=(n(40),function(){var e=Object(o.b)(),t=Object(o.c)(f);return c.a.createElement("div",null,c.a.createElement("input",{type:"textarea",onChange:function(t){return e({type:"FILTER",inputValue:t.currentTarget.value})},className:"filter__input",placeholder:"Search by title or body"}),c.a.createElement("ul",{className:"posts-list"},t.map((function(e){return c.a.createElement("li",{className:"posts-list__item",key:e.id},c.a.createElement(T,{post:e}))}))))}),x=function(){var e=Object(o.b)(),t=Object(o.c)(f),n=Object(o.c)(E),a=Object(o.c)(b);return c.a.createElement("div",{className:"App"},a?c.a.createElement(S,{posts:t}):c.a.createElement("button",{className:"btn",type:"button",onClick:function(){return e(function(){var e=Object(v.a)(y.a.mark((function e(t){var n,a,c,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"LOADING_TOGGLE"}),e.next=3,h("https://mate-academy.github.io/react_dynamic-list-of-posts/api/users.json");case 3:return n=e.sent,e.next=6,h("https://mate-academy.github.io/react_dynamic-list-of-posts/api/posts.json");case 6:return a=e.sent,e.next=9,h("https://mate-academy.github.io/react_dynamic-list-of-posts/api/comments.json");case 9:c=e.sent,r=a.map((function(e){return Object(l.a)(Object(l.a)({},e),{},{user:n.find((function(t){return t.id===e.userId})),comments:c.filter((function(t){return t.postId===e.id}))})})),t({type:"LOADING_TOGGLE"}),t({type:"SET_FULL_POSTS",posts:r}),t({type:"IS_LOADED"});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},disabled:n},"".concat(n?"Loading...":"Load")))},k=function(){return c.a.createElement(o.a,{store:_},c.a.createElement(u.a,null,c.a.createElement(x,null)))};s.a.render(c.a.createElement(k,null),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.7d52dd5c.chunk.js.map